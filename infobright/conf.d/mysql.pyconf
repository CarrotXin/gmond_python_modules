###
### Note:
###   To setup database access:
###   GRANT SUPER, PROCESS ON *.* TO your_user@localhost \
###   IDENTIFIED BY "your_password";
###
###   Notice in this example binlogging is not enabled in the MySQL
###   server. In this case the "mysql_binlog_*" metrics are
###   commented out.
###

modules {
  module {
    name = "mysql"
    language = "python"
    param host {
      value = 'localhost'
    }
    param user {
      value = 'your_user'
    }
    param passwd {
      value = 'your_password'
    }
    param get_innodb {
      value = True
    }
    param get_master {
      value = False
    }
    param get_slave {
      value = False
    }
    param delta_per_second {
      value = True
    }
  }
}

collection_group {
  collect_every = 60
  time_threshold = 60

  metric {
    name = "mysql_bh_gdc_false_wakeup"
  }

  metric {
    name = "mysql_bh_gdc_hits"
  }

  metric {
    name = "mysql_bh_gdc_load_errors"
  }

  metric {
    name = "mysql_bh_gdc_misses"
  }

  metric {
    name = "mysql_bh_gdc_pack_loads"
  }

  metric {
    name = "mysql_bh_gdc_prefetched"
  }

  metric {
    name = "mysql_bh_gdc_read_wait_in_progress"
  }

  metric {
    name = "mysql_bh_gdc_readwait"
  }

  metric {
    name = "mysql_bh_gdc_redecompress"
  }

  metric {
    name = "mysql_bh_gdc_released"
  }

  metric {
    name = "mysql_bh_mm_alloc_blocs"
  }

  metric {
    name = "mysql_bh_mm_alloc_objs"
  }

  metric {
    name = "mysql_bh_mm_alloc_pack_size"
  }

  metric {
    name = "mysql_bh_mm_alloc_packs"
  }

  metric {
    name = "mysql_bh_mm_alloc_size"
  }

  metric {
    name = "mysql_bh_mm_alloc_temp"
  }

  metric {
    name = "mysql_bh_mm_alloc_temp_size"
  }

  metric {
    name = "mysql_bh_mm_free_blocks"
  }

  metric {
    name = "mysql_bh_mm_free_pack_size"
  }

  metric {
    name = "mysql_bh_mm_free_packs"
  }

  metric {
    name = "mysql_bh_mm_free_size"
  }

  metric {
    name = "mysql_bh_mm_free_temp"
  }

  metric {
    name = "mysql_bh_mm_free_temp_size"
  }

  metric {
    name = "mysql_bh_mm_freeable"
  }

  metric {
    name = "mysql_bh_mm_release1"
  }

  metric {
    name = "mysql_bh_mm_release2"
  }

  metric {
    name = "mysql_bh_mm_release3"
  }

  metric {
    name = "mysql_bh_mm_release4"
  }

  metric {
    name = "mysql_bh_mm_reloaded"
  }

  metric {
    name = "mysql_bh_mm_scale"
  }

  metric {
    name = "mysql_bh_mm_unfreeable"
  }

  metric {
    name = "mysql_bh_readbytes"
  }

  metric {
    name = "mysql_bh_readcount"
  }

  metric {
    name = "mysql_bh_writebytes"
  }

  metric {
    name = "mysql_bh_writecount"
  }

/*
  metric {
    name = "mysql_binlog_space_used"
  }

  metric {
    name = "mysql_binlog_space_current"
  }

  metric {
    name = "mysql_binlog_count"
  }

  metric {
    name = "mysql_binlog_space_total"
  }
*/
  metric {
    name = "mysql_key_write_requests"
  }

  metric {
    name = "mysql_qcache_inserts"
  }

  metric {
    name = "mysql_select_scan"
  }

  metric {
    name = "mysql_key_writes"
  }

  metric {
    name = "mysql_com_update_multi"
  }

  metric {
    name = "mysql_table_locks_immediate"
  }

  metric {
    name = "mysql_threads_created"
  }

  metric {
    name = "mysql_connections"
  }

  metric {
    name = "mysql_questions"
  }

  metric {
    name = "mysql_bytes_received"
  }

  metric {
    name = "mysql_qcache_queries_in_cache"
  }

  metric {
    name = "mysql_binlog_cache_disk_use"
  }

  metric {
    name = "mysql_uptime"
  }

  metric {
    name = "mysql_slave_open_temp_tables"
  }

  metric {
    name = "mysql_slow_launch_threads"
  }

  metric {
    name = "mysql_open_tables"
  }

  metric {
    name = "mysql_sort_range"
  }

  metric {
    name = "mysql_select_range"
  }

  metric {
    name = "mysql_com_insert"
  }

  metric {
    name = "mysql_sort_rows"
  }

  metric {
    name = "mysql_select_range_check"
  }

  metric {
    name = "mysql_version"
  }

  metric {
    name = "mysql_max_connections"
  }

  metric {
    name = "mysql_query_cache_size"
  }

  metric {
    name = "mysql_opened_tables"
  }

  metric {
    name = "mysql_threads_running"
  }

  metric {
    name = "mysql_slow_queries"
  }

  metric {
    name = "mysql_created_tmp_tables"
  }

  metric {
    name = "mysql_threads_connected"
  }

  metric {
    name = "mysql_select_full_join"
  }

  metric {
    name = "mysql_com_select"
  }

  metric {
    name = "mysql_slave_retried_transactions"
  }

  metric {
    name = "mysql_threads_cached"
  }

  metric {
    name = "mysql_table_locks_waited"
  }

  metric {
    name = "mysql_qcache_lowmem_prunes"
  }

  metric {
    name = "mysql_binlog_cache_use"
  }

  metric {
    name = "mysql_com_insert_select"
  }

  metric {
    name = "mysql_qcache_hits"
  }

  metric {
    name = "mysql_created_tmp_files"
  }

  metric {
    name = "mysql_open_files"
  }

  metric {
    name = "mysql_com_update"
  }

  metric {
    name = "mysql_select_full_range_join"
  }

  metric {
    name = "mysql_qcache_not_cached"
  }

  metric {
    name = "mysql_sort_scan"
  }

  metric {
    name = "mysql_max_used_connections"
  }

  metric {
    name = "mysql_com_delete_multi"
  }

  metric {
    name = "mysql_bytes_sent"
  }

  metric {
    name = "mysql_com_replace"
  }

  metric {
    name = "mysql_qcache_free_memory"
  }

  metric {
    name = "mysql_qcache_total_blocks"
  }

  metric {
    name = "mysql_com_delete"
  }

  metric {
    name = "mysql_key_read_requests"
  }

  metric {
    name = "mysql_qcache_free_blocks"
  }

  metric {
    name = "mysql_aborted_connects"
  }

  metric {
    name = "mysql_com_load"
  }

  metric {
    name = "mysql_com_replace_select"
  }

  metric {
    name = "mysql_created_tmp_disk_tables"
  }

  metric {
    name = "mysql_key_reads"
  }

  metric {
    name = "mysql_aborted_clients"
  }
}

